# –°–∫—Ä–∏–ø—Ç—ã Chezmoi

> üá¨üáß [English version](README.md)
>
> **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `.chezmoiscripts/` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ dotfiles

–≠—Ç–æ—Ç –∫–∞—Ç–∞–ª–æ–≥ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ dotfiles —Å –ø–æ–º–æ—â—å—é chezmoi.

## –û–±–∑–æ—Ä

–°–∫—Ä–∏–ø—Ç—ã Chezmoi –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—ã dotfiles. –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏–π –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ –∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.

## –°–æ–≥–ª–∞—à–µ–Ω–∏—è –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

–°–∫—Ä–∏–ø—Ç—ã —Å–ª–µ–¥—É—é—Ç —à–∞–±–ª–æ–Ω—É –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è chezmoi:

```
run_<frequency>_<order>_<description>.fish.tmpl
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

- `run_` - –ü—Ä–µ—Ñ–∏–∫—Å, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Å–∫—Ä–∏–ø—Ç
- `<frequency>` - –ö–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞—Ç—å: `once`, `onchange`, `always`
- `<order>` - –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: `before`, `after` (—Å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º)
- `<description>` - –û–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è
- `.fish.tmpl` - –°–∫—Ä–∏–ø—Ç Fish shell —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —à–∞–±–ª–æ–Ω–æ–≤

**–ü—Ä–∏–º–µ—Ä—ã:**

- `run_once_after_1_install-packages.fish.tmpl` - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –ø–æ—Å–ª–µ chezmoi apply, –ø–µ—Ä–≤—ã–º –ø–æ –ø–æ—Ä—è–¥–∫—É
- `run_once_weekly_1_rebuild_cache.fish.tmpl` - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é, –ø–µ—Ä–≤—ã–º –ø–æ –ø–æ—Ä—è–¥–∫—É

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤

–°–∫—Ä–∏–ø—Ç—ã –≤ —ç—Ç–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

**`run_once_after_1_install-packages.fish.tmpl`**

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–∫–µ—Ç—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

- –ü–∞–∫–µ—Ç—ã Homebrew –∏–∑ Brewfile
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ Mise (—è–∑—ã–∫–∏, CLI-—É—Ç–∏–ª–∏—Ç—ã)

```fish
brew bundle install --file $XDG_CONFIG_HOME/homebrew/Brewfile
mise install -y
```

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ chezmoi apply
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã

**`run_once_after_2_configure-system.fish.tmpl`**

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã macOS:

- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Finder
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã Dock
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã/—Ç—Ä–µ–∫–ø–∞–¥–∞
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ chezmoi apply
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å macOS –ø–æ–¥ –ª–∏—á–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —Ç–µ–º

**`run_once_after_3_setup-theme-switcher.fish.tmpl`**

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º–Ω–æ–π/—Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã:

- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç LaunchAgents
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ —Å–∏—Å—Ç–µ–º—ã

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ chezmoi apply
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ macOS

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SketchyBar

**`run_once_after_4_setup-sketchybar.fish.tmpl`**

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è SketchyBar:

- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤ SbarLua
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–ª–∞–≥–∏–Ω—ã SketchyBar
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä–æ–∫–∏
- –ó–∞–ø—É—Å–∫–∞–µ—Ç —Å–ª—É–∂–±—É SketchyBar

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ chezmoi apply
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é —Å—Ç—Ä–æ–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Workflow

**`run_once_after_5_install-workflows.fish.tmpl`**

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ workflow –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é:

- –°–∫—Ä–∏–ø—Ç—ã Raycast
- Workflow Alfred (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –æ–±–æ–ª–æ—á–∫–∏ –≤ `~/bin/`

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ chezmoi apply
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 6. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ WezTerm

**`run_once_after_6_update_wezterm_icon.fish.tmpl`**

–û–±–Ω–æ–≤–ª—è–µ—Ç –∏–∫–æ–Ω–∫—É —ç–º—É–ª—è—Ç–æ—Ä–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ WezTerm:

- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –∏–∫–æ–Ω–∫—É
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∫ WezTerm.app
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∫—ç—à –∏–∫–æ–Ω–æ–∫

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ chezmoi apply
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

### 7. –ó–∞–≥—Ä—É–∑–∫–∞ —à–ø–∞—Ä–≥–∞–ª–æ–∫

**`run_once_after_7_download-cht.fish.tmpl`**

–ó–∞–≥—Ä—É–∂–∞–µ—Ç —à–ø–∞—Ä–≥–∞–ª–∫–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:

- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã cht.sh
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –æ–±—â–∏–µ —à–ø–∞—Ä–≥–∞–ª–∫–∏
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –±—ã—Å—Ç—Ä–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –û–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ chezmoi apply
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ñ–ª–∞–π–Ω-—Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

### 8. –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫—ç—à–∞ (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ)

**`run_once_weekly_1_rebuild_cache.fish.tmpl`**

–ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫—ç—à–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è Fish shell
- –ö—ç—à Homebrew
- –ö—ç—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ Mise
- –ö—ç—à —à—Ä–∏—Ñ—Ç–æ–≤

**–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:** –†–∞–∑ –≤ –Ω–µ–¥–µ–ª—é
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —à–∞–±–ª–æ–Ω–æ–≤

–°–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —à–∞–±–ª–æ–Ω—ã chezmoi (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `.tmpl`):

```fish
{{ if (eq .chezmoi.os "darwin") -}}
# –ö–æ–º–∞–Ω–¥—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è macOS
{{ end -}}
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

- `{{ .chezmoi.os }}` - –û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- `{{ .chezmoi.homeDir }}` - –î–æ–º–∞—à–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥
- `{{ .chezmoi.username }}` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ `.chezmoi.toml.tmpl`

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–∫—Ä–∏–ø—Ç—ã –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫:

- `XDG_CONFIG_HOME` - –ö–∞—Ç–∞–ª–æ–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`~/.config`)
- `XDG_DATA_HOME` - –ö–∞—Ç–∞–ª–æ–≥ –¥–∞–Ω–Ω—ã—Ö (`~/.local/share`)
- `XDG_CACHE_HOME` - –ö–∞—Ç–∞–ª–æ–≥ –∫—ç—à–∞ (`~/.cache`)
- –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–°–∫—Ä–∏–ø—Ç—ã –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:

```fish
if not command -v brew &> /dev/null
    echo "Homebrew –Ω–µ –Ω–∞–π–¥–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∫–∞..."
    /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
end
```

## –†—É—á–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å dotfiles –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã
chezmoi apply

# –ü—Ä–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫ (–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å, —á—Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
chezmoi apply --dry-run --verbose
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–∫—Ä–∏–ø—Ç

```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç once
chezmoi state delete-bucket --bucket=scriptState
chezmoi apply

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é
fish .chezmoiscripts/run_once_after_1_install-packages.fish.tmpl
```

### –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤
chezmoi apply --exclude scripts
```

## –°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

Chezmoi –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
chezmoi state dump

# –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)
chezmoi state delete-bucket --bucket=scriptState

# –°–±—Ä–æ—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
chezmoi state delete --key=run_once_after_1_install-packages.fish.tmpl
```

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º:

```bash
touch .chezmoiscripts/run_once_after_8_my-setup.fish.tmpl
chmod +x .chezmoiscripts/run_once_after_8_my-setup.fish.tmpl
```

2. –î–æ–±–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞:

```fish
#!/usr/bin/env fish
# vi: ft=fish

{{ if (eq .chezmoi.os "darwin") -}}

echo "–ó–∞–ø—É—Å–∫ –º–æ–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏..."

# –í–∞—à–∏ –∫–æ–º–∞–Ω–¥—ã –∑–¥–µ—Å—å

{{ end -}}
```

3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç:

```bash
fish .chezmoiscripts/run_once_after_8_my-setup.fish.tmpl
```

4. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ:

```bash
git add .chezmoiscripts/run_once_after_8_my-setup.fish.tmpl
git commit -m "feat(chezmoi): add custom setup script"
chezmoi apply
```

### –¢–∏–ø—ã —Å–∫—Ä–∏–ø—Ç–æ–≤

**–ó–∞–ø—É—Å–∫ –æ–¥–∏–Ω —Ä–∞–∑:**

```
run_once_after_N_name.fish.tmpl
```

–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π.

**–ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏:**

```
run_onchange_after_N_name.fish.tmpl
```

–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.

**–ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–¥–∞:**

```
run_after_N_name.fish.tmpl
```

–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `chezmoi apply`.

**–ü–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º:**

```
run_before_N_name.fish.tmpl
```

–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤.

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

–°–∫—Ä–∏–ø—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–º–∏ (–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –¥–ª—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞):

```fish
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º
if not test -d ~/some-directory
    mkdir -p ~/some-directory
end

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
if not command -v some-tool &> /dev/null
    brew install some-tool
end
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –≤—ã–≤–æ–¥:

```fish
echo "‚Üí –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤..."
brew bundle install --file $XDG_CONFIG_HOME/homebrew/Brewfile
echo "‚úì –ü–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"
```

### –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —á–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:

```fish
if not test -f ~/.config/some/config
    echo "‚úó –û—à–∏–±–∫–∞: –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω"
    echo "  –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø—É—Å—Ç–∏—Ç–µ: chezmoi apply"
    exit 1
end
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

- –ö—ç—à–∏—Ä—É–π—Ç–µ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Ñ–æ–Ω–µ
- –ü—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ –Ω–µ–Ω—É–∂–Ω—É—é —Ä–∞–±–æ—Ç—É

```fish
# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –µ—Å–ª–∏ —É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
if test -f ~/.setup-complete
    exit 0
end

# –û—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ
touch ~/.setup-complete
```

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏–º—è —Ñ–∞–π–ª–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —à–∞–±–ª–æ–Ω—É: `run_*`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π: `chmod +x script.fish.tmpl`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞: `chezmoi state dump`
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫: `chezmoi state delete-bucket --bucket=scriptState`

### –°–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π

- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –æ—à–∏–±–∫–∏: `fish script.fish.tmpl`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –ø–æ–¥—Ä–æ–±–Ω–æ–º —Ä–µ–∂–∏–º–µ: `chezmoi apply --verbose`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —à–∞–±–ª–æ–Ω–∞: `chezmoi execute-template < script.fish.tmpl`

### –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `run_once_*`, –∞ –Ω–µ `run_*`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –Ω–µ –±—ã–ª –∏–∑–º–µ–Ω–µ–Ω (—Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç `onchange`)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è: `chezmoi state dump`

### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–æ–º–µ—Ä–∞ –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (1, 2, 3...)
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–∏—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö
- –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Å–∫—Ä–∏–ø—Ç

## –í–æ–ø—Ä–æ—Å—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏
- –ò–∑–±–µ–≥–∞–π—Ç–µ –∂–µ—Å—Ç–∫–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é KeePassXC)
- –ë—É–¥—å—Ç–µ –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ `sudo`
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–∞ –Ω–æ–≤–æ–π –º–∞—à–∏–Ω–µ
- –•—Ä–∞–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ –≤–µ—Ä—Å–∏–π

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Dotfiles

–°–∫—Ä–∏–ø—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ —Å dotfiles:

1. **–°–∫—Ä–∏–ø—Ç—ã Before** - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Dotfiles** - –§–∞–π–ª—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –¥–æ–º–∞—à–Ω–∏–π –∫–∞—Ç–∞–ª–æ–≥
3. **–°–∫—Ä–∏–ø—Ç—ã After** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–û, –∑–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –¥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ –¥–æ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## –°—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–æ–≤ Chezmoi](https://www.chezmoi.io/user-guide/use-scripts-to-perform-actions/)
- [–ü–æ—Ä—è–¥–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤](https://www.chezmoi.io/reference/source-state-attributes/)
- [–°–∏–Ω—Ç–∞–∫—Å–∏—Å —à–∞–±–ª–æ–Ω–æ–≤](https://www.chezmoi.io/user-guide/templating/)
