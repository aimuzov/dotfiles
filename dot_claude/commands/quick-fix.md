---
allowed-tools: Bash(git diff:*), Bash(git status:*), Bash(git add:*), Bash(fish_indent:*), Bash(fish:*), Read, Edit, Grep
description: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –≤ staged —Ñ–∞–π–ª–∞—Ö
---

## –ö–æ–Ω—Ç–µ–∫—Å—Ç

- Git —Å—Ç–∞—Ç—É—Å: !`git status --short`
- Staged —Ñ–∞–π–ª—ã: !`git diff --staged --name-only`
- Staged –∏–∑–º–µ–Ω–µ–Ω–∏—è: !`git diff --staged`

## –¢–≤–æ—è –∑–∞–¥–∞—á–∞

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤—å —Ç–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ staged —Ñ–∞–π–ª–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ª–æ–≥–∏–∫–∏.

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

1. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - Fish —Å–∫—Ä–∏–ø—Ç—ã: –∑–∞–ø—É—Å—Ç–∏ `fish_indent` –¥–ª—è –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –£–¥–∞–ª–∏ trailing whitespace
   - –ò—Å–ø—Ä–∞–≤—å —Å–º–µ—à–∞–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã (tabs/spaces)
   - –î–æ–±–∞–≤—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

2. **–û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞**
   - –£–¥–∞–ª–∏ debug –≤—ã–≤–æ–¥ (echo, printf –≤ fish; console.log, print –∏ —Ç.–¥.)
   - –£–¥–∞–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
   - –£–¥–∞–ª–∏ –ø—É—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –±–ª–æ–∫–∏
   - –£–¥–∞–ª–∏ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∏–º–ø–æ—Ä—Ç—ã

3. **–ü—Ä–æ—Å—Ç—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**
   - –ó–∞–º–µ–Ω–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ
   - –ò—Å–ø—Ä–∞–≤—å –æ—á–µ–≤–∏–¥–Ω—ã–µ –æ–ø–µ—á–∞—Ç–∫–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
   - –î–æ–±–∞–≤—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ø—Ä–æ—Å—Ç—ã–µ —Å–ª—É—á–∞–∏)**
   - –ó–∞–º–µ–Ω–∏ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ eval –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–µ—Å–ª–∏ –æ—á–µ–≤–∏–¥–Ω–æ –∫–∞–∫)
   - –î–æ–±–∞–≤—å quotes –≤–æ–∫—Ä—É–≥ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ shell —Å–∫—Ä–∏–ø—Ç–∞—Ö
   - –≠–∫—Ä–∞–Ω–∏—Ä—É–π —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≥–¥–µ –Ω—É–∂–Ω–æ

### –ß—Ç–æ –ù–ï –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

- –õ–æ–≥–∏–∫—É –∫–æ–¥–∞ (—Ç—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)
- –°–ª–æ–∂–Ω—ã–µ security issues (—Ç—Ä–µ–±—É–µ—Ç –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
- TODO/FIXME –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–Ω—ã–º–∏)
- –ò–∑–º–µ–Ω–µ–Ω–∏—è API –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (breaking changes)

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã

1. **–ê–Ω–∞–ª–∏–∑ staged —Ñ–∞–π–ª–æ–≤**
   - –ü–æ–ª—É—á–∏ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö staged —Ñ–∞–π–ª–æ–≤
   - –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
   - –ü—Ä–æ—á–∏—Ç–∞–π —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–æ–≤

2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
   - –ü—Ä–∏–º–µ–Ω–∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
   - –ò—Å–ø—Ä–∞–≤—å –æ—á–µ–≤–∏–¥–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
   - –°–æ—Ö—Ä–∞–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ stage**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ stage
   - –ü–æ–∫–∞–∂–∏ —á—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

4. **–û—Ç—á—ë—Ç**
   - –ü–æ–∫–∞–∂–∏ –≤—Å–µ –≤–Ω–µ—Å—ë–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - –£–∫–∞–∂–∏ —á—Ç–æ –ù–ï –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –î–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞

**üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞:
```
üìÑ path/to/file.fish
  ‚úÖ –ü—Ä–∏–º–µ–Ω—ë–Ω fish_indent
  ‚úÖ –£–¥–∞–ª–µ–Ω—ã trailing whitespace (5 —Å—Ç—Ä–æ–∫)
  ‚úÖ –£–¥–∞–ª–µ–Ω—ã debug echo (2 –≤—Ö–æ–∂–¥–µ–Ω–∏—è)
  ‚ö†Ô∏è  –ù–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π eval –Ω–∞ —Å—Ç—Ä–æ–∫–µ 45 (—Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞)
```

**üìä –ò—Ç–æ–≥–æ:**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤: X
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π: Y
- –¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è: Z

**üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ stage
- –ò—Å–ø–æ–ª—å–∑—É–π `/stage-check` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π `/pre-commit` –¥–ª—è –∫–æ–º–º–∏—Ç–∞

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**Fish —Å–∫—Ä–∏–ø—Ç - –¥–æ:**
```fish
function my_func
  echo "debug"
    set -l var $argv[1]
  if test -n "$var"
      echo $var
  end
end
```

**Fish —Å–∫—Ä–∏–ø—Ç - –ø–æ—Å–ª–µ:**
```fish
function my_func
    set -l var $argv[1]
    if test -n "$var"
        echo $var
    end
end
```

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- –£–¥–∞–ª—ë–Ω debug echo
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—Ç—Å—Ç—É–ø—ã (fish_indent)
- –£–¥–∞–ª—ë–Ω trailing whitespace

### –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞–π backup –ø–µ—Ä–µ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º (git —É–∂–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏—Å—Ç–æ—Ä–∏—é)
- –ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω –≤ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ - –ü–†–û–ü–£–°–¢–ò –µ–≥–æ –∏ —É–∫–∞–∂–∏ –≤ –æ—Ç—á—ë—Ç–µ
- –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ stage
- –ü–æ–∫–∞–∂–∏ diff –∏–∑–º–µ–Ω–µ–Ω–∏–π —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
- –ï—Å–ª–∏ staged —Ñ–∞–π–ª–æ–≤ –Ω–µ—Ç, —Å–æ–æ–±—â–∏ –æ–± —ç—Ç–æ–º

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–ï—Å–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –°–ü–†–û–°–ò –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```
‚ö†Ô∏è –ù–∞–π–¥–µ–Ω–∞ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ file.fish:15:
  eval "$command"

–ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
  $command

–ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ? (—ç—Ç–æ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ)
```
